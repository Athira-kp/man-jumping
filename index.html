<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jump Man Game</title>
    <style>
        /* CSS - The Visuals */
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        #game {
            width: 600px;
            height: 200px;
            border-bottom: 2px solid #555;
            background-color: white;
            position: relative;
            overflow: hidden;
        }

        #character {
            width: 50px;
            height: 50px;
            background-color: #3498db;
            position: absolute;
            bottom: 0;
            border-radius: 5px;
        }

        #block {
            width: 20px;
            height: 40px;
            background-color: #e74c3c;
            position: absolute;
            bottom: 0;
            right: -20px;
            /* The animation is triggered by JS */
        }

        .animate-jump {
            animation: jump 0.5s linear;
        }

        .block-move {
            animation: block 1.5s infinite linear;
        }

        @keyframes jump {
            0% { bottom: 0; }
            30% { bottom: 100px; }
            70% { bottom: 100px; }
            100% { bottom: 0; }
        }

        @keyframes block {
            0% { right: -20px; }
            100% { right: 100%; }
        }

        h1 { margin-bottom: 10px; color: #333; }
        #score { font-size: 1.5rem; margin-top: 10px; }
    </style>
</head>
<body onclick="jump()" onkeydown="if(event.code==='Space') jump()">

    <h1>Jump Man</h1>
    <p>Press Space or Click to Jump</p>
    
    <div id="game">
        <div id="character"></div>
        <div id="block" class="block-move"></div>
    </div>

    <div id="score">Score: 0</div>

    <script>
        /* JavaScript - The Logic */
        const character = document.getElementById("character");
        const block = document.getElementById("block");
        const scoreElement = document.getElementById("score");
        
        let score = 0;
        let isGameOver = false;

        function jump() {
            if (isGameOver) {
                // Reset game if it's over
                location.reload();
                return;
            }
            
            // Prevent multi-jumping if already in air
            if (!character.classList.contains("animate-jump")) {
                character.classList.add("animate-jump");
                setTimeout(function() {
                    character.classList.remove("animate-jump");
                }, 500);
            }
        }

        // Main Game Loop (Collision detection)
        const checkDead = setInterval(function() {
            
            // Get current position of character
            let characterTop = parseInt(window.getComputedStyle(character).getPropertyValue("top"));
            
            // Get current position of block
            let blockLeft = parseInt(window.getComputedStyle(block).getPropertyValue("left"));

            // Collision Logic
            // If block is between 0 and 50px from left (where character is)
            // and character is NOT jumping high enough (top > 150px)
            if (blockLeft < 50 && blockLeft > 0 && characterTop >= 150) {
                block.style.animation = "none";
                block.style.display = "none";
                isGameOver = true;
                alert("Game Over! Score: " + Math.floor(score));
                location.reload();
            } else {
                if (!isGameOver) {
                    score += 0.01;
                    scoreElement.innerHTML = "Score: " + Math.floor(score);
                }
            }
        }, 10);
    </script>
</body>
</html>
